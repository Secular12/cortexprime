{"version":3,"file":"index.mjs","sources":["system/lib/helpers.js","system/lib/formHelpers.js","system/lib/Logger.js","system/lib/dice.js","system/lib/dicePickerRender.js","system/lib/rollDice.js","system/documents/DicePool.js","system/hooks/ready.js","system/hooks/renderChatLog.js","system/lib/handbarHelpers.js/dieResult.js","system/hooks/renderChatMessage.js","system/hooks/renderSceneControls.js","system/hooks/index.js","system/lib/handbarHelpers.js/diceSelect.js","system/lib/handbarHelpers.js/fieldCheckbox.js","system/lib/handbarHelpers.js/fieldInput.js","system/lib/handbarHelpers.js/fieldSelect.js","system/lib/handbarHelpers.js/index.js","index.mjs"],"sourcesContent":["export const displayToggleMethod = function (event) {\r\n  const $toggler = $(this)\r\n  const $chevronIcon = $toggler.find('.fa')\r\n  const { parent, target } = event.currentTarget.dataset\r\n\r\n  $chevronIcon.toggleClass('fa-chevron-down fa-chevron-up')\r\n  $toggler.closest(parent).find(target).toggleClass('hide')\r\n}\r\n\r\nexport const displayToggle = (html) => {\r\n  html\r\n    .find('.display-toggle')\r\n    .click(displayToggleMethod)\r\n}\r\n\r\nexport const isObject = value => (\r\n  typeof value === 'object' &&\r\n  value !== null &&\r\n  !Array.isArray(value)\r\n)\r\n\r\nexport const objectToArray = obj => {\r\n  return Object.entries(obj)\r\n    .reduce((arr, [key, value]) => {\r\n      arr[key] = value\r\n      return arr\r\n    }, [])\r\n}\r\n\r\nexport const localizer = target => game.i18n.localize(target)\r\n\r\nconst rounding = (dir = null) => (number, increment, offset) => {\r\n  const roundingDir = dir ?? 'round'\r\n  if (!increment) return number\r\n  return Math[roundingDir]((number - offset) / increment ) * increment + offset\r\n}\r\n\r\nexport const round = rounding()\r\n","import { round } from './helpers.js'\r\n\r\nexport const diceSelectListener = function (html, addCb, changeCb, removeCb) {\r\n  html\r\n    .find('.new-die')\r\n    .click((event) => {\r\n      const { target } = event.currentTarget.dataset ?? {}\r\n\r\n      addCb(event, { target })\r\n    })\r\n  \r\n  html\r\n    .find('.die-select')\r\n    .change((event) => {\r\n      const {\r\n        index,\r\n        target\r\n      } = event.currentTarget.dataset ?? {}\r\n\r\n      changeCb(event, {\r\n        index: parseInt(index, 10),\r\n        target,\r\n        value: parseInt(event.currentTarget.value, 10)\r\n      })\r\n    })\r\n\r\n  html\r\n    .find('.die-select')\r\n    .on('mouseup', (event) => {\r\n      event.preventDefault()\r\n\r\n      const {\r\n        index,\r\n        target\r\n      } = event.currentTarget.dataset ?? {}\r\n\r\n      if (event.button === 2) removeCb(event, {\r\n        index: parseInt(index, 10),\r\n        target\r\n      })\r\n    })\r\n}\r\n\r\nconst numberFieldListener = function (html) {\r\n  html\r\n    .find('.field-number .field-input')\r\n    .change(event => {\r\n      const el = event.target\r\n      \r\n      if (!el.required && !el.value && el.value !== 0) return\r\n\r\n      const max = el.max || el.max === 0 ? +el.max : null\r\n      const min = el.min || el.min === 0 ? +el.min : null\r\n      const step = +el.step\r\n      const value = +el.value\r\n      \r\n      if ((min || min === 0) && value < min) {\r\n        el.value = min\r\n        return\r\n      }\r\n      \r\n      if ((max || max === 0) && value > max) {\r\n        el.value = max\r\n        return\r\n      }\r\n\r\n      if (step) {\r\n        el.value = round(value, step, min ?? 0)\r\n      }\r\n    })\r\n}\r\n\r\nexport const fieldListeners = (html) => {\r\n  numberFieldListener(html)\r\n}","export default (method) => (...args) => {\r\n  if (CONFIG.debug?.logs) {\r\n      if (!method || typeof method === 'string') console[method || 'log'](...args)\r\n      else args.forEach((arg, index) => {\r\n          console[method?.[index] ?? 'log'](arg)\r\n      })\r\n  }\r\n}\r\n","export const diceIcons = {\r\n  d4: (type = 'die-rating', number = 4) => (\r\n    `<div class=\"cp-die cp-d4 cp-${type}\">` +\r\n    '<svg viewBox=\"0 0 30 30\" aria-hidden=\"false\" aria-label=\"d4\">' +\r\n    '<path class=\"fill\" d=\"M15 30 30 4H0l15 26z\"></path>' +\r\n    '<path class=\"stroke\" d=\"M26.54 6 15 26 3.46 6h23.08M30 4H0l15 26L30 4z\"></path>' +\r\n    '</svg>' +\r\n    `<div class=\"number\">${number}</div>` +\r\n    '</div>'),\r\n  d6: (type = 'die-rating', number = 6) => (\r\n    `<div class=\"cp-die cp-d6 cp-${type}\">` +\r\n    '<svg viewBox=\"0 0 30 30\" aria-hidden=\"false\" aria-label=\"d6\">' +\r\n    '<path class=\"fill\" d=\"M4 4h22v22H4V4z\"></path>' +\r\n    '<path class=\"stroke\" d=\"M24 6v18H6V6h18m2-2H4v22h22V4z\"></path>' +\r\n    '</svg>' +\r\n    `<div class=\"number\">${number}</div>` +\r\n    '</div>'\r\n  ),\r\n  d8: (type = 'die-rating', number = 8) => (\r\n    `<div class=\"cp-die cp-d8 cp-${type}\">` +\r\n    '<svg viewBox=\"0 0 30 30\" aria-hidden=\"false\" aria-label=\"d8\">' +\r\n    '<path class=\"fill\" d=\"M1 15 15 1l14 14-14 14L1 15z\"></path>' +\r\n    '<path class=\"stroke\" d=\"M15 3.83 26.17 15 15 26.17 3.83 15 15 3.83M15 1 1 15l14 14 14-14L15 1z\"></path>' +\r\n    '</svg>' +\r\n    `<div class=\"number\">${number}</div>` +\r\n    '</div>'\r\n  ),\r\n  d10: (type = 'die-rating', number = 10) => (\r\n    `<div class=\"cp-die cp-d10 cp-${type}\">` +\r\n    '<svg viewBox=\"0 0 30 30\" aria-hidden=\"false\" aria-label=\"d10\">' +\r\n    '<path class=\"fill\" d=\"M3 8.07v13.86L15 28l12-6.07V8.07L15 2 3 8.07z\"></path>' +\r\n    '<path class=\"stroke\" d=\"M15 2 3 8.07v13.86L15 28l12-6.07V8.07L15 2zm10 18.7-10 5.06L5 20.7V9.3l10-5.06L25 9.3v11.4z\"></path>' +\r\n    '</svg>' +\r\n    `<div class=\"number\">${number}</div>` +\r\n    '</div>'\r\n  ),\r\n  d12: (type = 'die-rating', number = 12) => (\r\n    `<div class=\"cp-die cp-d12 cp-${type}\">` +\r\n    '<svg viewBox=\"0 0 30 30\" aria-hidden=\"false\" aria-label=\"d12\">' +\r\n    '<path class=\"fill\" d=\"M27 18.9v-7.8l-4.58-6.31L15 2.38 7.58 4.79 3 11.1v7.8l4.58 6.31L15 27.62l7.42-2.41L27 18.9z\"></path>' +\r\n    '<path class=\"stroke\" d=\"m15 4.48 6.18 2.01L25 11.75v6.5l-3.82 5.26L15 25.52l-6.18-2.01L5 18.25v-6.5l3.82-5.26L15 4.48m0-2.1L7.58 4.79 3 11.1v7.8l4.58 6.31L15 27.62l7.42-2.41L27 18.9v-7.8l-4.58-6.31L15 2.38z\"></path>' +\r\n    '</svg>' +\r\n    `<div class=\"number\">${number}</div>` +\r\n    '</div>'\r\n  )\r\n}\r\n\r\nexport const getDieIcon = (rating, type, number) => {\r\n  return diceIcons[`d${rating}`](type, number)\r\n}","import { getDieIcon } from './dice.js'\r\n\r\nconst getAppendDiceContent = ({ isDefault, dieRating, key }) => {\r\n  return '<div class=\"die-wrapper' + \r\n    (isDefault ? ' default' : '') +\r\n    '\"' +\r\n    (key ? ` data-key=\"${key}\"` : '') +\r\n    '>' +\r\n    '<div class=\"dice-container\">' +\r\n    getDieIcon(dieRating, 'effect') +\r\n    '</div>' +\r\n    '</div>'\r\n}\r\n\r\nexport default (resolve) => (html) => {\r\n  const $addToTotal = html.find('.DicePicker-add-to-total')\r\n  const $addToEffect = html.find('.DicePicker-add-to-effect')\r\n  const $closeButton = html\r\n    .closest('.window-app.dialog')\r\n    .find('.header-button.close')\r\n  const $dieResults = html.find('.DicePicker-die-result')\r\n  const $resetSelection = html.find('.DicePicker-reset')\r\n  const $resultGroups = html.find('.DicePicker-result-groups')\r\n  const $effectDiceContainer = html.find('.DicePicker-effect-value .dice-container')\r\n\r\n  const setSelectionOptionsDisableTo = (value) => {\r\n    $addToTotal.prop('disabled', value ?? !$addToTotal.prop('disabled'))\r\n    $addToEffect.prop('disabled', value ?? !$addToEffect.prop('disabled'))\r\n  }\r\n\r\n  const setSelectionDisable = () => {\r\n    const $selectedDice = html.find('.DicePicker-die-result.selected')\r\n    const $usedDice = html.find('.DicePicker-die-result[data-type=\"effect\"], .DicePicker-die-result[data-type=\"chosen\"]')\r\n\r\n    setSelectionOptionsDisableTo(!($selectedDice.length > 0))\r\n\r\n    $resetSelection.prop('disabled', !($selectedDice.length > 0 || $usedDice.length > 0))\r\n  }\r\n\r\n  const deselectEffectDie = ($effectDie, $selectedDie) => {\r\n    $selectedDie\r\n      .attr('data-type', 'unchosen')\r\n\r\n    $selectedDie.find('.cp-die').toggleClass('cp-unchosen cp-effect')\r\n\r\n    $effectDie.remove()\r\n\r\n    const $effectDice = $effectDiceContainer.find('.die-wrapper')\r\n\r\n    if ($effectDice.length === 0) {\r\n      const dieContent = getAppendDiceContent({ isDefault: true, dieRating: '4' })\r\n\r\n      $effectDiceContainer\r\n        .append(dieContent)\r\n    }\r\n\r\n    setSelectionDisable()\r\n  }\r\n\r\n  $addToEffect\r\n    .click(function () {\r\n      const $diceForEffect = html.find('.DicePicker-die-result.selected')\r\n\r\n      if ($diceForEffect.length > 0) {\r\n\r\n        $effectDiceContainer.find('.default')?.remove()\r\n\r\n        $diceForEffect.each(function () {\r\n          const $die = $(this)\r\n\r\n          const dieRating = $die.data('die-rating')\r\n          const key = $die.data('key')\r\n\r\n          $die\r\n            .attr('data-type', 'effect')\r\n            .removeClass('selected')\r\n\r\n          $die\r\n            .find('.cp-die')\r\n            .toggleClass('cp-selected cp-effect')\r\n\r\n          const dieContent = getAppendDiceContent({ dieRating, key })\r\n\r\n          $effectDiceContainer\r\n            .append(dieContent)\r\n        })\r\n\r\n        setSelectionDisable()\r\n      }\r\n    })\r\n\r\n  $addToTotal\r\n    .click(function () {\r\n      const $diceForTotal = html.find('.DicePicker-die-result.selected')\r\n\r\n      $diceForTotal.each(function () {\r\n        const $die = $(this)\r\n\r\n        const value = parseInt($die.data('value'), 10)\r\n\r\n        $die\r\n          .attr('data-type', 'chosen')\r\n          .removeClass('selected')\r\n        \r\n        $die\r\n          .find('.cp-die')\r\n          .toggleClass('cp-chosen cp-selected')\r\n\r\n        const $totalValue = html.find('.DicePicker-total-value')\r\n\r\n        const currentValue = parseInt($totalValue.text(), 10)\r\n        \r\n        $totalValue.text(value + currentValue)\r\n      })\r\n\r\n      setSelectionDisable()\r\n    })\r\n\r\n  $closeButton\r\n    .click((event) => {\r\n      event.preventDefault()\r\n\r\n      const values = { dice: [], total: 0, effectDice: [] }\r\n\r\n      $dieResults\r\n        .each(function () {\r\n          const $die = $(this)\r\n          const dieRating = $die.data('die-rating')\r\n          const resultGroupIndex = parseInt($die.data('result-group-index'), 10)\r\n          const type = $die.data('type')\r\n          const value = parseInt($die.data('value'), 10)\r\n\r\n          const groupValues = values.dice[resultGroupIndex] ?? []\r\n\r\n          values.dice[resultGroupIndex] = [\r\n            ...groupValues,\r\n            {\r\n              dieRating,\r\n              type: type === 'hitch' ? 'hitch' : 'unchosen',\r\n              value,\r\n            }\r\n          ]\r\n        })\r\n\r\n      resolve(values)\r\n    })\r\n\r\n  $resetSelection\r\n    .click(function () {\r\n      $dieResults\r\n        .not('[data-type=\"hitch\"]')\r\n        .each(function () {\r\n          const $target = $(this)\r\n\r\n          $target.removeClass('selected')\r\n          $target.attr('data-type', 'unchosen')\r\n\r\n          $target\r\n            .find('.cp-die')\r\n            .removeClass('cp-chosen cp-effect cp-selected')\r\n            .addClass('cp-unchosen')\r\n        })\r\n\r\n      html\r\n        .find('.DicePicker-total-value')\r\n        .text(0)\r\n\r\n        const dieContent = getAppendDiceContent({ isDefault: true, dieRating: '4' })\r\n\r\n        $effectDiceContainer\r\n          .html(dieContent)\r\n\r\n      setSelectionOptionsDisableTo(true)\r\n      $(this).prop('disabled', true)\r\n    })\r\n\r\n  $effectDiceContainer.on('mouseup', '.die-wrapper', function (event) {\r\n    if (event.button === 2) {\r\n      const $effectDie = $(this)\r\n\r\n      const key = $effectDie.data('key')\r\n\r\n      const $selectedDie = $resultGroups.find(`[data-key=\"${key}\"]`)\r\n\r\n      deselectEffectDie($effectDie, $selectedDie)\r\n    }\r\n  })\r\n\r\n  $resultGroups.on('click', '[data-type=\"chosen\"]', function () {\r\n    const $selectedDie = $(this)\r\n\r\n    const value = parseInt($selectedDie.data('value'), 10)\r\n\r\n    $selectedDie\r\n      .attr('data-type', 'unchosen')\r\n    \r\n    $selectedDie\r\n      .find('.cp-die')\r\n      .toggleClass('cp-chosen cp-unchosen')\r\n\r\n    const $totalValue = html.find('.DicePicker-total-value')\r\n\r\n    const currentValue = parseInt($totalValue.text(), 10)\r\n\r\n    $totalValue.text(currentValue - value)\r\n\r\n    setSelectionDisable()\r\n  })\r\n\r\n  $resultGroups.on('click', '[data-type=\"effect\"]', function () {\r\n    const $selectedDie = $(this)\r\n\r\n    const key = $selectedDie.data('key')\r\n\r\n    const $effectDie = $effectDiceContainer.find(`[data-key=\"${key}\"]`)\r\n\r\n    deselectEffectDie($effectDie, $selectedDie)\r\n  })\r\n\r\n  $resultGroups.on('click', '[data-type=\"unchosen\"]', function () {\r\n    const $target = $(this)\r\n\r\n    $target.toggleClass('selected')\r\n\r\n    $target.find('.cp-die').toggleClass('cp-selected cp-unchosen')\r\n\r\n    setSelectionDisable()\r\n  })\r\n}","import { localizer } from './helpers.js'\r\nimport Logger from './Logger.js'\r\nimport dicePickerRender from './dicePickerRender.js'\r\n\r\nconst Log = Logger()\r\n\r\nconst dicePicker = async rollResults => {\r\n  Log('rollDice.dicePicker rollResults:', rollResults)\r\n\r\n  const content = await renderTemplate('systems/cortexprime/system/templates/DicePicker.html', {\r\n    rollResults\r\n  })\r\n\r\n  return new Promise((resolve, reject) => {\r\n    new Dialog({\r\n      title: localizer('CP.SelectYourDice'),\r\n      content,\r\n      buttons: {\r\n        confirm: {\r\n          icon: '<i class=\"fas fa-check\"></i>',\r\n          label: localizer('CP.Confirm'),\r\n          callback (html) {\r\n            const $dieResults = html.find('.DicePicker-die-result')\r\n\r\n            const values = { dice: [], total: null, effectDice: [] }\r\n\r\n            $dieResults\r\n              .each(function () {\r\n                const $die = $(this)\r\n                \r\n                const dieRating = $die.data('die-rating')\r\n                const resultGroupIndex = parseInt($die.data('result-group-index'), 10)\r\n                const type = $die.data('type')\r\n                const value = parseInt($die.data('value'), 10)\r\n\r\n                if (type === 'chosen') {\r\n                  values.total = values.total ? values.total + value : value\r\n                } else if (type === 'effect') {\r\n                  values.effectDice.push(dieRating)\r\n                }\r\n\r\n                const groupValues = values.dice[resultGroupIndex] ?? []\r\n\r\n                values.dice[resultGroupIndex] = [\r\n                  ...groupValues,\r\n                  {\r\n                    dieRating,\r\n                    type,\r\n                    value,\r\n                  }\r\n                ]\r\n              })\r\n\r\n            resolve(values)\r\n          }\r\n        }\r\n      },\r\n      default: 'confirm',\r\n      render: dicePickerRender(resolve),\r\n    }, { jQuery: true, classes: ['dialog', 'DicePicker', 'cortexprime'] }).render(true)\r\n  })\r\n}\r\n\r\nconst display3dDice = ({ rollMode, throws }) => {\r\n  if (game.dice3d) {\r\n    const synchronize = rollMode !== 'selfroll'\r\n    const whisper = ['gmroll', 'blindroll'].includes(rollMode)\r\n      ? game.users.filter(u => u.isGM).map(u => u.id)\r\n      : null\r\n    const blind = rollMode === 'blindroll'\r\n\r\n    game.dice3d.show({ throws }, game.user, synchronize, whisper, blind)\r\n  }\r\n}\r\n\r\nconst getRollFormulas = (pool) => {\r\n  return pool\r\n    .reduce((formulas, source) => {\r\n      return source.traits.reduce((acc, trait) => {\r\n        if (trait.rollsSeparately) {\r\n          return [\r\n            ...formulas,\r\n            {\r\n              name: trait.name,\r\n              formula: `d${trait.dice.join('+d')}`,\r\n              hasHitches: trait.hasHitches,\r\n              rollsSeparately: true,\r\n            }\r\n          ]\r\n        }\r\n\r\n        acc[0].formula = `${acc[0].formula ? (acc[0].formula + '+') : ''}d` +\r\n          trait.dice.join('+d')\r\n\r\n        return acc\r\n      }, formulas)\r\n    }, [{ name: null, formula: '', hasHitches: true, rollsSeparately: false, }])\r\n    .filter(({ formula }) => !!formula)\r\n}\r\n\r\nconst getRollResults = async pool => {\r\n  const rollFormulas = getRollFormulas(pool)\r\n\r\n  Log('rollDice.getRollResults rollFormulas', rollFormulas)\r\n\r\n  const results = await rollByFormulas(rollFormulas)\r\n\r\n  const throws = getThrows(results)\r\n\r\n  return {\r\n    results,\r\n    throws\r\n  }\r\n}\r\n\r\nconst getSelectedDice = results => {\r\n  return results\r\n    .reduce(({ effectDice, total }, resultGroup) => {\r\n      const targetEffectDie = resultGroup.rollsSeparately\r\n        ? null\r\n        : resultGroup.results.find(result => result.type === 'effect')\r\n      return {\r\n        effectDice: targetEffectDie?.dieRating ? [...effectDice, targetEffectDie.dieRating] : effectDice,\r\n        total: total + resultGroup.results.reduce((totalValue, result) => result.type === 'chosen' ? totalValue + result.value : totalValue, 0)\r\n      }\r\n    }, { effectDice: [], total: 0 })\r\n}\r\n\r\nconst getThrows = (results) => {\r\n  return results.reduce((acc, result) => {\r\n    return [\r\n      ...acc,\r\n      {\r\n        dice: result.roll.dice.map(die => ({\r\n          options: {},\r\n          result: die.total,\r\n          resultLabel: die.total,\r\n          type: `d${die.faces}`,\r\n          vectors: [],\r\n        }))\r\n      }\r\n    ]\r\n  }, [])\r\n}\r\n\r\nconst initDiceValues = ({ roll, rollFormula }) => {\r\n  return roll.dice.map(die => ({\r\n    dieRating: die.faces,\r\n    type: die.total > 1 || !rollFormula.hasHitches ? 'unchosen' : 'hitch',\r\n    value: die.total\r\n  }))\r\n}\r\n\r\nconst markResultEffect = results => {\r\n  if (results.rollsSeparately) return results\r\n\r\n  results.results = sortResultsByDieRating(results.results)\r\n\r\n  results.results = results.results.reduce((acc, result) => {\r\n    const hasEffectDie = acc.some(item => item.type === 'effect')\r\n    if (!['chosen', 'hitch'].includes(result.type) && !hasEffectDie) return [...acc, { ...result, type: 'effect' }]\r\n\r\n    return [...acc, result]\r\n  }, [])\r\n\r\n  return results\r\n}\r\n\r\nconst markResultTotals = results => {\r\n  const selectedTotalCount = results.rollsSeparately ? 1 : 2\r\n\r\n  results.results = sortResultsByValue(results.results)\r\n\r\n  results.results = results.results.reduce((acc, result) => {\r\n    if (!['effect', 'hitch'].includes(result.type) && acc.count < selectedTotalCount) {\r\n      return { dice: [...acc.dice, { ...result, type: 'chosen' }], count: acc.count + 1 }\r\n    }\r\n\r\n    return { dice: [...acc.dice, result], count: acc.count }\r\n  }, { dice: [], count: 0 }).dice\r\n\r\n  return results\r\n}\r\n\r\nconst renderRollResult = async ({ diceSelections, effectDice, pool, results, rollMode, total }) => {\r\n  const contentData = {\r\n    effectDice,\r\n    pool,\r\n    resultGroups: results.map((resultGroup, resultGroupIndex) => {\r\n      resultGroup.diceSelection = diceSelections[resultGroupIndex]\r\n      return resultGroup\r\n    }),\r\n    speaker: game.user,\r\n    total: total ?? 0\r\n  }\r\n\r\n  Log('rollDice.renderRollResult contentData:', contentData)\r\n\r\n  const content = await renderTemplate('systems/cortexprime/system/templates/RollResult.html', contentData)\r\n\r\n  const chatData = ChatMessage.applyRollMode({ content }, rollMode)\r\n\r\n  ChatMessage.create(chatData)\r\n}\r\n\r\nconst rollByFormulas = async (rollFormulas) => {\r\n  return Promise.all(rollFormulas.map(async (rollFormula) => {\r\n    const r = new Roll(rollFormula.formula)\r\n    \r\n    const roll = await r.evaluate({ async: true })\r\n\r\n    const results = initDiceValues({ roll, rollFormula })\r\n\r\n    const sortedResults = sortResultsByValue(results)\r\n\r\n    return {\r\n      ...rollFormula,\r\n      results: sortedResults,\r\n      roll\r\n    }\r\n  }))\r\n}\r\n\r\nconst rollForEffect = results => {\r\n  const effectMarkedResults = results.map(x => markResultEffect(x))\r\n  const finalResults = effectMarkedResults.map(x => markResultTotals(x))\r\n\r\n  const {\r\n    effectDice,\r\n    total\r\n  } = getSelectedDice(finalResults)\r\n  \r\n  Log('rollDice.rollForEffect finalResults, effectDice, total:', finalResults, effectDice, total)\r\n\r\n  return {\r\n    dice: finalResults.map(x => x.results),\r\n    effectDice,\r\n    total\r\n  }\r\n}\r\n\r\nconst rollForTotal = results => {\r\n  const totalMarkedResults = results.map(x => markResultTotals(x))\r\n  const finalResults = totalMarkedResults.map(x => {\r\n    const markedResults = markResultEffect(x)\r\n    markedResults.results = sortResultsByValue(markedResults.results)\r\n    \r\n    return markedResults\r\n  })\r\n\r\n  const {\r\n    effectDice,\r\n    total\r\n  } = getSelectedDice(finalResults)\r\n\r\n  Log('rollDice.rollForTotal finalResults, effectDice, total:', finalResults, effectDice, total)\r\n\r\n  return {\r\n    dice: finalResults.map(x => x.results),\r\n    effectDice,\r\n    total\r\n  }\r\n}\r\n\r\nconst selectByType = async ({ results, rollType }) => {\r\n  return rollType === 'select'\r\n    ? await dicePicker(results)\r\n    : rollType === 'total'\r\n      ? rollForTotal(results)\r\n      : rollForEffect(results)\r\n}\r\n\r\nconst sortResultsByDieRating = results => {\r\n  const r = [...results]\r\n  \r\n  r.sort((a, b) => {\r\n    if (a.dieRating !== b.dieRating) {\r\n      return b.dieRating - a.dieRating\r\n    }\r\n\r\n    return b.value - a.value\r\n  })\r\n\r\n  return r\r\n}\r\n\r\nconst sortResultsByValue = results => {\r\n  const r = [...results]\r\n  \r\n  r.sort((a, b) => {\r\n    if (a.value !== b.value) {\r\n      return b.value - a.value\r\n    }\r\n\r\n    return b.dieRating - a.dieRating\r\n  })\r\n\r\n  return r\r\n}\r\n\r\nexport default async function (pool, rollType, rollMode) {\r\n  const { results, throws } = await getRollResults(pool)\r\n\r\n  Log('rollDice.default rollMode, rollType, results, throws', rollMode, rollType, results, throws)\r\n\r\n  await this?.clear()\r\n  this?.close()\r\n\r\n  const {\r\n    dice: diceSelections,\r\n    effectDice,\r\n    total,\r\n  } = await selectByType({ results, rollType })\r\n\r\n  Log('rollDice.default diceSelections:', diceSelections)\r\n\r\n  display3dDice({ rollMode, throws })\r\n\r\n  await renderRollResult({\r\n    diceSelections,\r\n    effectDice,\r\n    pool,\r\n    results,\r\n    rollMode,\r\n    total,\r\n  })\r\n}","import { diceSelectListener, fieldListeners } from '../lib/formHelpers.js'\r\nimport { localizer, objectToArray } from '../lib/helpers.js'\r\nimport Logger from '../lib/Logger'\r\nimport rollDice from '../lib/rollDice.js'\r\n\r\nconst Log = Logger()\r\n\r\nconst getBlankCustomAdd = () => ({\r\n  dice: [8],\r\n  hasHitches: true,\r\n  parentName: null,\r\n  name: '',\r\n  rollsSeparately: false,\r\n})\r\n\r\nexport class DicePool extends FormApplication {\r\n  constructor () {\r\n    super()\r\n\r\n    this.customAdd = getBlankCustomAdd()\r\n\r\n    this.pool = []\r\n    this.rollMode = game.settings.get('core', 'rollMode')\r\n  }\r\n\r\n  static get defaultOptions() {\r\n    return mergeObject(super.defaultOptions, {\r\n      classes: ['cortexprime', 'DicePool'],\r\n      closeOnSubmit: false,\r\n      height: 'auto',\r\n      id: 'DicePool',\r\n      left: 20,\r\n      resizable: false,\r\n      submitOnClose: true,\r\n      submitOnChange: true,\r\n      template: 'systems/cortexprime/system/templates/DicePool.html',\r\n      title: localizer('CP.DicePool'),\r\n      top: 500,\r\n      width: 480\r\n    })\r\n  }\r\n\r\n  getData () {\r\n    const data = {\r\n      customAdd: this.customAdd,\r\n      pool: this.pool,\r\n      poolIsEmpty: this.poolIsEmpty,\r\n      rollMode: this.rollMode,\r\n      rollModes: [\r\n          { name: localizer('CP.PublicRoll'), value: 'publicroll' },\r\n          { name: localizer('CP.PrivateGmRoll'), value: 'gmroll' },\r\n          { name: localizer('CP.BlindGmRoll'), value: 'blindroll' },\r\n          { name: localizer('CP.SelfRoll'), value: 'selfroll' },\r\n      ],\r\n    }\r\n\r\n    Log('DicePool.getData data:', data)\r\n\r\n    return data\r\n  }\r\n\r\n  _updateObject (event, formData) {\r\n    const expandedData = expandObject(formData)\r\n\r\n    this.customAdd = {\r\n      ...this.customAdd,\r\n      ...expandedData.customAdd,\r\n    }\r\n\r\n    this.rollMode = expandedData.rollMode\r\n\r\n    Log(\r\n      'DicePool._updateObject event, expandedData, this.rollMode:',\r\n      event,\r\n      expandedData,\r\n      this.rollMode,\r\n    )\r\n  }\r\n\r\n  activateListeners (html) {\r\n    super.activateListeners(html)\r\n    fieldListeners.call(this, html)\r\n    diceSelectListener(\r\n      html,\r\n      this.onAddDie.bind(this),\r\n      this.onChangeDie.bind(this),\r\n      this.onRemoveDie.bind(this),\r\n    )\r\n\r\n    html\r\n      .find('#DicePool-add-custom-trait')\r\n      .click(this.addCustomTrait.bind(this))\r\n    \r\n    html\r\n      .find('#DicePool-clear')\r\n      .click(() => {\r\n        this.clear()\r\n        this.render(true)\r\n      })\r\n    \r\n    html\r\n      .find('.DicePool-remove-trait')\r\n      .click(this.removeTrait.bind(this))\r\n    \r\n    html\r\n      .find('#DicePool-reset-custom-trait')\r\n      .click(this.resetCustomTrait.bind(this))\r\n    \r\n    html\r\n      .find('#DicePool-roll-effect')\r\n      .click(() => this._rollDice.call(this, 'effect'))\r\n    \r\n    html\r\n      .find('#DicePool-roll-select')\r\n      .click(() => this._rollDice.call(this, 'select'))\r\n    \r\n    html\r\n      .find('#DicePool-roll-total')\r\n      .click(() => this._rollDice.call(this, 'total'))\r\n\r\n    html\r\n      .find('#DicePool-rolls-separately')\r\n      .change(event => this._onRollsSeparatelyChange.call(this, event, html))\r\n  }\r\n\r\n  get poolIsEmpty() {\r\n    return this.pool\r\n      .reduce((isEmpty, sourceGroup) => {\r\n        if (!isEmpty) return false\r\n        return !((sourceGroup?.traits?.length ?? 0) > 0)\r\n      }, true)\r\n  }\r\n\r\n  _getTargetTrait(event) {\r\n    const trait = event.currentTarget.closest('.DicePool-trait')\r\n\r\n    const {\r\n      sourceIndex,\r\n      traitIndex\r\n    } = trait.dataset\r\n\r\n    return this.pool[sourceIndex].traits[traitIndex]\r\n  }\r\n\r\n  _getTraitByTarget(event, target) {\r\n    return target === 'customAdd'\r\n      ? this.customAdd\r\n      : target === 'trait'\r\n        ? this._getTargetTrait(event)\r\n        : null\r\n  }\r\n\r\n  async _rollDice (rollType) {\r\n    event.preventDefault()\r\n\r\n    Log('DicePool._rollDice this.pool, rollType:', this.pool, rollType)\r\n\r\n    await rollDice.call(this, this.pool, rollType, this.rollMode)\r\n  }\r\n\r\n  _onRollsSeparatelyChange (event, html) {\r\n    const $target = $(event.currentTarget)\r\n    const isRolledSeparately = $target.prop('checked')\r\n\r\n    const $hasHitchesCheckbox = html\r\n    .find('#DicePool-has-hitches')\r\n\r\n    $hasHitchesCheckbox\r\n      .prop('disabled', !isRolledSeparately)\r\n      .prop('checked', !isRolledSeparately)\r\n\r\n    $hasHitchesCheckbox\r\n      .closest('.field-checkbox')\r\n      .toggleClass('field-disabled')\r\n  }\r\n\r\n  async addCustomTrait (event) {\r\n    event.preventDefault()\r\n\r\n    const matchingSourceIndex = this.pool\r\n      .findIndex(sourceGroup => sourceGroup.source === 'Custom')\r\n\r\n    if (matchingSourceIndex < 0) {\r\n      this.pool = [...this.pool, {\r\n        source: 'Custom',\r\n        traits: [this.customAdd]\r\n      }]\r\n    } else {\r\n      this.pool[matchingSourceIndex].traits = [\r\n        ...this.pool[matchingSourceIndex].traits,\r\n        this.customAdd,\r\n      ]\r\n    }\r\n\r\n    this.resetCustomTrait()\r\n  }\r\n\r\n  addToPool (event) {\r\n    const $addToPoolButton = $(event.currentTarget)\r\n    const $rollResult = $addToPoolButton.closest('.RollResult')\r\n\r\n    this.pool = Array.from($rollResult.find('.RollResult-source'))\r\n      .map(sourceGroup => ({\r\n        source: sourceGroup.dataset.source ?? null,\r\n        traits: Array.from($(sourceGroup).find('.RollResult-trait'))\r\n          .map(trait => ({\r\n            dice: Array.from($(trait).find('.cp-die .number'))\r\n              .map(number => parseInt(number.innerText, 10)),\r\n            hasHitches: trait.dataset.hasHitches ?? false,\r\n            name: trait.dataset.name ?? null,\r\n            parentName: trait.dataset.parentName ?? null,\r\n            rollsSeparately: trait.dataset.rollsSeparately !== 'false'\r\n          }))\r\n      }))\r\n  }\r\n\r\n  clear () {\r\n    this.customAdd = getBlankCustomAdd()\r\n\r\n    this.pool = []\r\n  }\r\n\r\n  async onAddDie (event, { target }) {\r\n    const targetTrait = this._getTraitByTarget(event, target)\r\n\r\n    targetTrait.dice = [\r\n      ...targetTrait.dice,\r\n      targetTrait.dice[targetTrait.dice.length - 1] ?? 8\r\n    ]\r\n\r\n    await this.render(true)\r\n  }\r\n\r\n  async onChangeDie (event, { index, target, value }) {\r\n    const targetTrait = this._getTraitByTarget(event, target)\r\n\r\n    targetTrait.dice = targetTrait.dice.map((die, dieIndex) => {\r\n      return dieIndex === index ? value : die\r\n    })\r\n\r\n    await this.render(true)\r\n  }\r\n\r\n  async onRemoveDie (event, { index, target }) {\r\n    const targetTrait = this._getTraitByTarget(event, target)\r\n\r\n    targetTrait.dice = targetTrait.dice\r\n      .filter((die, dieIndex) => dieIndex !== index)\r\n\r\n    await this.render(true)\r\n  }\r\n\r\n  async removeTrait (event) {\r\n    const trait = event.currentTarget.closest('.DicePool-trait')\r\n\r\n    const {\r\n      sourceIndex,\r\n      traitIndex\r\n    } = trait.dataset\r\n\r\n    this.pool[sourceIndex].traits = this.pool[sourceIndex].traits\r\n      .filter((trait, index) => index !== parseInt(traitIndex, 10))\r\n\r\n    await this.render(true)\r\n  }\r\n\r\n  async resetCustomTrait(event) {\r\n    if (event) event.preventDefault()\r\n\r\n    this.customAdd = getBlankCustomAdd()\r\n\r\n    await this.render(true)\r\n  }\r\n\r\n  async toggle () {\r\n    if (!this.rendered) {\r\n      await this.render(true)\r\n    } else {\r\n      this.close()\r\n    }\r\n  }\r\n}\r\n","import { DicePool } from '../documents/DicePool.js'\r\n\r\nexport default async () => {\r\n  game.cortexprime.DicePool = new DicePool()\r\n}","import { displayToggleMethod } from '../lib/helpers.js'\r\n\r\nexport default (log, html, data) => {\r\n  const $chatLog = html.find('#chat-log')\r\n  \r\n  $chatLog\r\n    .on('click', '.display-toggle', displayToggleMethod)\r\n    .on('click', '.RollResult-add-to-pool', (event) => {\r\n      game.cortexprime.DicePool.addToPool(event)\r\n      game.cortexprime.DicePool.render(true)\r\n    })\r\n    .on('click', '.RollResult-re-roll', (event) => {\r\n      game.cortexprime.DicePool.addToPool(event)\r\n      game.cortexprime.DicePool._rollDice('select')\r\n      game.cortexprime.DicePool.clear()\r\n    })\r\n}","import { getDieIcon } from '../dice.js'\r\n\r\nexport const getHtml = (value, options) => {\r\n  return '<div class=\"die-result' +\r\n    (options.hash.class ? ` ${options.hash.class}` : '') +\r\n    '\" ' +\r\n    `data-die-rating=\"${options.hash.dieRating}\" ` +\r\n    (options.hash.key ? `data-key=\"${options.hash.key}\" ` : '') +\r\n    (options.hash.resultGroupIndex || options.hash.resultGroupIndex === 0 ? `data-result-group-index=\"${options.hash.resultGroupIndex}\" ` : '') +\r\n    `data-type=\"${options.hash.type}\" ` +\r\n    `data-value=\"${value}\"` +\r\n    '>' +\r\n    '<div class=\"die-wrapper\">' +\r\n    '<div class=\"die-container\">' +\r\n    getDieIcon(options.hash.dieRating, options.hash.type, value) +\r\n    '</div>' +\r\n    '</div>' +\r\n    (options.hash.hideLabel ? '' : `<span class=\"die-result-label\">d${options.hash.dieRating}</span>`) +\r\n    '</div>'\r\n}\r\n\r\nexport default (value, options) => {\r\n  return new Handlebars.SafeString(getHtml(value, options))\r\n}","import { getHtml } from '../lib/handbarHelpers.js/dieResult.js'\r\n\r\nexport default (message, html, data) => {\r\n  const $rollResult = html.find('.RollResult-main').first()\r\n\r\n  if ($rollResult) {\r\n    html.addClass('cortexprime RollResult')\r\n\r\n    $rollResult\r\n      .find('.chat-die')\r\n      .each(function () {\r\n        const $die = $(this)\r\n\r\n        const data = $die.data()\r\n\r\n        const { dieRating, hideLabel, resultGroupIndex, type, value } = data\r\n\r\n        const html = getHtml(value, {\r\n          hash: {\r\n            class: 'RollResult-die-result',\r\n            dieRating,\r\n            hideLabel: !!hideLabel,\r\n            resultGroupIndex,\r\n            type\r\n          }\r\n        })\r\n\r\n        $die.replaceWith(html)\r\n      })\r\n  }\r\n}","export default (controls, html) => {\r\n  const $dicePoolButton = $(\r\n    `<li class=\"dice-pool-control\" data-control=\"dice-pool\" title=\"${game.i18n.localize(\"DicePool\")}\">\r\n      <i class=\"fas fa-dice\"></i>\r\n      <ol class=\"control-tools\">\r\n      </ol>\r\n    </li>`\r\n  )\r\n\r\n  html\r\n    .find('.main-controls')\r\n    .append($dicePoolButton);\r\n\r\n  html\r\n    .find('.dice-pool-control')\r\n    .removeClass('control-tool')\r\n    .on('click', async () => {\r\n      await game.cortexprime.DicePool.toggle()\r\n    })\r\n}","import ready from './ready.js'\r\nimport renderChatLog from './renderChatLog.js'\r\nimport renderChatMessage from './renderChatMessage.js'\r\nimport renderSceneControls from './renderSceneControls.js'\r\n\r\nexport default () => {\r\n  Hooks.on('ready', ready)\r\n  Hooks.on('renderChatLog', renderChatLog)\r\n  Hooks.on('renderChatMessage', renderChatMessage)\r\n  Hooks.on('renderSceneControls', renderSceneControls)\r\n}","import { getDieIcon } from '../dice.js'\r\n\r\nconst getAddButton = (options) => {\r\n  return '<button class=\"new-die btn btn-icon btn-icon-text btn-small ml-1\" ' +\r\n    (options.hash.target ? `data-target=\"${options.hash.target}\" ` : '') +\r\n    'type=\"button\">' +\r\n    '<i class=\"fa fa-plus\"></i>' +\r\n    '</button>'\r\n}\r\n\r\nconst getSelect = (options, { dieIndex, dieRating }) => {\r\n  return '<select ' +\r\n    'class=\"die-select\" ' +\r\n    `data-index=\"${dieIndex}\"` +\r\n    (options.hash.target ? `data-target=\"${options.hash.target}\" ` : '') +\r\n    '>' +\r\n    [4, 6, 8, 10, 12].reduce((selectOptions, rating) => {\r\n      if (rating >= (options.hash.min ?? 4) && rating <= (options.hash.max ?? 12)) {\r\n        return selectOptions +\r\n        `<option value=\"${rating}\"` +\r\n        (dieRating === rating ? ' selected>' : '>') +\r\n        `d${rating}` +\r\n        '</option>'\r\n      }\r\n\r\n      return selectOptions\r\n    }, '') +\r\n    '</select>'\r\n}\r\n\r\nexport default (val, options) => {\r\n  const type = options.hash.type ?? 'die-rating'\r\n  const value = val\r\n    ? val\r\n    : options.hash.defaultDie\r\n      ? [options.hash.defaultDie]\r\n      : []\r\n  return new Handlebars.SafeString(\r\n    '<div class=\"dice-' +\r\n    (options.hash.displayOnly ? 'display' : 'select') +\r\n    (options.hash.class ? ` ${options.hash.class}` : '') +\r\n    '\">' +\r\n    (options.hash.label ? `<label class=\"field-label\">${options.hash.label}</label>` : '') +\r\n    '<div class=\"dice-wrapper flex gap-0\">' +\r\n    '<div class=\"dice-container flex flex-wrap gap-0\">' +\r\n    value.reduce((diceString, dieRating, dieIndex) => {\r\n      return diceString +\r\n      '<div class=\"die-wrapper' +\r\n      (options.hash.dieWrapperClass ? ` ${options.hash.dieWrapperClass}` : '') +\r\n      '\">' +\r\n      '<div class=\"die-container\">' +\r\n      getDieIcon(dieRating, type) +\r\n      '</div>' +\r\n      (options.hash.displayOnly ? '' : getSelect(options, { dieIndex, dieRating })) +\r\n      '</div>'\r\n    }, '') +\r\n    '</div>' +\r\n    (options.hash.displayOnly ? '' : getAddButton(options)) +\r\n    '</div>' +\r\n    '</div>'\r\n  )\r\n}","export default (value, options) => {\r\n  const inputHashIgnore = [\r\n    'class',\r\n    'hint',\r\n    'label',\r\n    'labelClass',\r\n    'wrapperClass'\r\n  ]\r\n\r\n  return new Handlebars.SafeString(\r\n    '<div class=\"field field-checkbox' +\r\n    (options.hash.disabled === true ? ' field-disabled' : '') +\r\n    (options.hash.class ? ` ${options.hash.class}` : '') +\r\n    '\">' +\r\n    (options.hash.label ? '<label' : '<div') +\r\n    ' class=\"field-wrapper flex gap-1' +\r\n    (options.hash.wrapperClass ? ` ${options.hash.wrapperClass}` : '') +\r\n    '\">'+\r\n    `<input type=\"checkbox\" ` +\r\n    (value ? 'checked ' : '') +\r\n    Object.entries(options.hash)\r\n      .reduce((attributes, [key, value]) => {\r\n        if (inputHashIgnore.includes(key)) return attributes\r\n\r\n        if (['disabled', 'required'].includes(key) && value === true) {\r\n          return [...attributes, key]\r\n        }\r\n\r\n        if (key === 'inputClass') {\r\n          attributes[0] = `class=\"field-checkbox-input ${value}\"`\r\n          return attributes\r\n        }\r\n\r\n        const val = value ?? null\r\n\r\n        return [...attributes, val || val === 0 ? `${key}=\"${value}\"` : '']\r\n      }, ['class=\"field-checkbox-input\"'])\r\n      .join(' ') +\r\n    `>` +\r\n    (options.hash.label ? `<span class=\"field-label` : '') +\r\n    (options.hash.label && options.hash.labelClass ? ' ' + options.hash.labelClass : '') +\r\n    (options.hash.label ? `\">${options.hash.label}</span>` : '') +\r\n    (options.hash.label ? `</label>` : '</div>') +\r\n    (options.hash.hint ? `<p class=\"field-hint\">${options.hash.hint}</p>` : '') +\r\n    '</div>'\r\n  )\r\n}","export default (type) => (value, options) => {\r\n  const inputHashIgnore = [\r\n    'class',\r\n    'hint',\r\n    'label',\r\n    'labelClass',\r\n    'wrapperClass'\r\n  ]\r\n\r\n  return new Handlebars.SafeString(\r\n    `<div class=\"field field-${type}` +\r\n    (options.hash.disabled === true ? ' field-disabled' : '') +\r\n    (options.hash.class ? ` ${options.hash.class}` : '') +\r\n    '\">' +\r\n    (options.hash.label ? '<label' : '<div') +\r\n    ' class=\"field-wrapper' +\r\n    (options.hash.wrapperClass ? ` ${options.hash.wrapperClass}` : '') +\r\n    '\">'+\r\n    (options.hash.label ? `<span class=\"field-label` : '') +\r\n    (options.hash.label && options.hash.labelClass ? ' ' + options.hash.labelClass : '') +\r\n    (options.hash.label ? `\">${options.hash.label}</span>` : '') +\r\n    `<input type=\"${type}\" ` +\r\n    Object.entries(options.hash)\r\n      .reduce((attributes, [key, value]) => {\r\n        if (inputHashIgnore.includes(key)) return attributes\r\n\r\n        if (['disabled', 'required'].includes(key) && value === true) {\r\n          return [...attributes, key]\r\n        }\r\n\r\n        if (key === 'inputClass') {\r\n          attributes[0] = `class=\"field-input ${value}\"`\r\n          return attributes\r\n        }\r\n\r\n        const val = value ?? null\r\n\r\n        return [...attributes, val || val === 0 ? `${key}=\"${value}\"` : '']\r\n      }, ['class=\"field-input\"'])\r\n      .join(' ') +\r\n    ` value=\"${value ?? ''}\"` +\r\n    `>` +\r\n    (options.hash.label ? `</label>` : '</div>') +\r\n    (options.hash.hint ? `<p class=\"field-hint\">${options.hash.hint}</p>` : '') +\r\n    '</div>'\r\n  )\r\n}","export default (value, items, name, val, options) => {\r\n  const inputHashIgnore = [\r\n    'class',\r\n    'hint',\r\n    'label',\r\n    'labelClass',\r\n    'wrapperClass'\r\n  ]\r\n\r\n  return new Handlebars.SafeString(\r\n    '<div class=\"field field-select' +\r\n    (options.hash.disabled === true ? ' field-disabled' : '') +\r\n    (options.hash.class ? ` ${options.hash.class}` : '') +\r\n    '\">' +\r\n    (options.hash.label ? '<label' : '<div') +\r\n    ` class=\"field-wrapper` +\r\n    (options.hash.wrapperClass ? ` ${options.hash.wrapperClass}` : '') +\r\n    '\">' +\r\n    (options.hash.label ? `<span class=\"field-label` : '') +\r\n    (options.hash.label && options.hash.labelClass ? ' ' + options.hash.labelClass : '') +\r\n    (options.hash.label ? `\">${options.hash.label}</span>` : '') +\r\n    `<select ` +\r\n    Object.entries(options.hash)\r\n      .reduce((attributes, [key, value]) => {\r\n        if (inputHashIgnore.includes(key)) return attributes\r\n\r\n        if (['disabled', 'required'].includes(key) && value === true) {\r\n          return [...attributes, key]\r\n        }\r\n\r\n        if (key === 'inputClass') {\r\n          attributes[0] = `class=\"field-input ${value}\"`\r\n          return attributes\r\n        }\r\n\r\n        const val = value ?? null\r\n\r\n        return [...attributes, val || val === 0 ? `${key}=\"${value}\"` : '']\r\n      }, ['class=\"field-input\"'])\r\n      .join(' ') +\r\n    `>` +\r\n    items\r\n      .map(item => {\r\n        return `<option value=\"${item[val]}\"` +\r\n        (item[val] === value ? ' selected>' : '>') +\r\n        `${item[name]}</option>`\r\n      })\r\n      .join('') +\r\n    `</select>` +\r\n    (options.hash.label ? `</label>` : '</div>') +\r\n    (options.hash.hint ? `<p class=\"field-hint\">${options.hash.hint}</p>` : '') +\r\n    '</div>'\r\n  )\r\n}","import diceSelect from './diceSelect.js';\r\nimport dieResult from './dieResult.js';\r\nimport fieldCheckbox from './fieldCheckbox.js';\r\nimport fieldInput from './fieldInput.js';\r\nimport fieldSelect from './fieldSelect.js';\r\n\r\nexport const registerHandlebarHelpers = () => {\r\n  Handlebars.registerHelper({\r\n    add: (a, b) => +a + +b,\r\n    get: (list, key) => list[key] ?? false,\r\n    length: (value) => value?.length ?? null,\r\n    sub: (a, b) => +a - +b,\r\n    tern: (a, b, c) => a ? b : c,\r\n  }),\r\n  Handlebars.registerHelper('times', (n, block) => {\r\n    let accum = '';\r\n    for(let i = 0; i < n; ++i)\r\n      accum += block.fn(i);\r\n    return accum\r\n  })\r\n  Handlebars.registerHelper('diceSelect', diceSelect)\r\n  Handlebars.registerHelper('dieResult', dieResult)\r\n  Handlebars.registerHelper('fieldNumber', fieldInput('number'))\r\n  Handlebars.registerHelper('fieldCheckbox', fieldCheckbox)\r\n  Handlebars.registerHelper('fieldSelect', fieldSelect)\r\n  Handlebars.registerHelper('fieldText', fieldInput('text'))\r\n}","import hooks from './system/hooks/index.js'\r\nimport { registerHandlebarHelpers, } from './system/lib/handbarHelpers.js/index.js'\r\nimport Logger from './system/lib/Logger.js'\r\nconst Log = Logger()\r\n\r\nHooks.once('init', () => {\r\n  CONFIG.debug.logs = true\r\n\r\n  game.cortexprime = {}\r\n\r\n  Log('Initializing Cortex prime system...')\r\n\r\n  registerHandlebarHelpers()\r\n  hooks()\r\n})\r\n"],"names":["Log"],"mappings":"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"}