.cortexprime {
  .sheet-cpt {
    color: var(--cp-body-font-color, #000000);
    font-family: 'Roboto', sans-serif;
    font-size: var(--cp-body-font-size, 15px);
    font-weight: var(--cp-body-font-weight, 400);
    height: 100%;

    .sheet-background {
      background-color: var(--cp-sheet-background-color, #dedede);
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
      z-index: 1;
    }

    .sheet-image {
      background-image: var(--cp-sheet-background-image, none);
      background-position: var(--cp-sheet-background-position, center);
      background-repeat: var(--cp-sheet-background-repeat, no-repeat);
      background-size: var(--cp-sheet-background-size, cover);
      height: 100%;
      left: 0;
      opacity: var(--cp-sheet-background-image-opacity, 0.5);
      position: absolute;
      top: 0;
      width: 100%;
      z-index: 2;
    }

    .sheet-content {
      position: relative;
      z-index: 3;
    }
  }

  .section-cpt {
    background: transparent;
    border: 0;
    border-color: var(--cp-section-border-color, #2d5931);
    border-style: var(--cp-section-border-style, solid);
    border-width: var(--cp-section-border-position, 2px 2px 2px 2px);
    box-sizing: border-box;
    position: relative;
    z-index: 2;

    .section-background, .section-background-alternate, .section-image {
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
    }

    .section-background {
      background-color: var(--cp-section-background-color, #f5f8fa);
      opacity: var(--cp-section-background-color-opacity, 1);
      z-index: 3;
    }

    .section-background-alternate {
      background-color: var(--cp-section-alternate-background-color, #ccd7df);
      opacity: var(--cp-section-background-color-opacity, 1);
      z-index: 3;
    }

    .section-image {
      background-image: var(--cp-section-background-image, none);
      background-position: var(--cp-section-background-position, center);
      background-repeat: var(--cp-section-background-repeat, no-repeat);
      background-size: var(--cp-section-background-size, cover);
      opacity: var(--cp-section-background-image-opacity, 0);
      z-index: 4;
    }

    .section-content {
      position: relative;
      z-index: 5;
      height: 100%;
    }
  }

  .relative-section {
    position: relative;

    .section-background, .section-background-alternate {
      z-index: -1;
    }
  }

  .btn-primary-cpt {
    background-color: var(--cp-button-primary-color, #2d5931);
    color: var(--cp-button-primary-font-color, #ffffff);
  }

  .btn {
    &:hover, &:focus {
      box-shadow: 0 0 5px var(--cp-input-focus-color, #b30044);
    }
    &.btn-square-cpt {
      border-radius: 0;
    }

    &.btn-icon {
      &.btn-square-cpt {
        border-radius: 0;
      }
    }

    &.btn-pp {
      line-height: 0;
      padding: 0;
      border-radius: 50%;
    }
  }

  .btn-secondary-cpt {
    background-color: var(--cp-button-secondary-color, #b30044);
    color: var(--cp-button-secondary-font-color, #ffffff);
  }

  .btn-icon-plain-cpt {
    background-color: transparent;
    color: var(--cp-body-font-color, #000000);
  }

  .dialog-buttons {
    .dialog-button {
      &.cancel, &.confirm, &.done {
        border: 0;
        cursor: pointer;
      }

      &.confirm, &.done {
        background-color: var(--cp-button-primary-color, #2d5931);
        color: var(--cp-button-primary-font-color, #ffffff);
      }

      &.cancel {
        background-color: var(--cp-button-secondary-color, #2d5931);
        color: var(--cp-button-secondary-font-color, #ffffff);
      }
    }
  }

  .die-cpt {
    height: toRem(32px);
    position: relative;
    width: toRem(32px);

    .number {
      font-size: toRem(16px);
      font-weight: 700;
      line-height: 1;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      white-space: nowrap;
    }
  }

  .d4-cpt {
    .number {
      transform: translate(-50%, -60%);
    }
  }

  .chosen-cpt {
    .fill {
      fill: var(--cp-chosen-fill, #ffffff);
    }

    .stroke {
      fill: var(--cp-chosen-stroke, #b30044);
    }

    .number {
      color: var(--cp-chosen-number, #1f2834);
    }
  }

  .die-rating-cpt {
    .fill {
      fill: var(--cp-die-rating-fill, #b30044);
    }

    .stroke {
      fill: var(--cp-die-rating-stroke, #b30044);
    }

    .number {
      color: var(--cp-die-rating-number, #ffffff);
    }
  }

  .effect-cpt {
    .fill {
      fill: var(--cp-effect-fill, #2d5931);
    }

    .stroke {
      fill: var(--cp-effect-stroke, #2d5931);
    }

    .number {
      color: var(--cp-effect-number, #ffffff);
    }
  }

  .hitch-cpt {
    .fill {
      fill: var(--cp-hitch-fill, #141c27);
    }

    .stroke {
      fill: var(--cp-hitch-stroke, #b30044);
    }

    .number {
      color: var(--cp-hitch-number, #ffffff);
    }
  }

  .pp-cpt {
    background-color: var(--cp-plot-point-fill, #c9e2d1);
    box-sizing: border-box;
    border: toRem(2px) solid var(--cp-plot-point-stroke, #c9e2d1);
    border-radius: 50%;
    position: relative;
    height: toRem(32px);
    width: toRem(32px);

    .pp-text-cpt {
      position: absolute;
      color: var(--cp-plot-point-text, #141c27);
      font-weight: 700;
      font-size: toRem(18px);
      left: 50%;
      line-height: 1;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    &.pp-lg {
      height: toRem(64px);
      width: toRem(64px);
      border-width: toRem(4px);

      .pp-text-cpt {
        font-size: toRem(36px);
      }
    }
  }

  .selected-cpt {
    .fill {
      fill: var(--cp-selected-fill, #c9e2d1);
    }

    .stroke {
      fill: var(--cp-selected-stroke, #b30044);
    }

    .number {
      color: var(--cp-selected-number, #141c27);
    }
  }

  .unchosen-cpt {
    .fill {
      fill: var(--cp-unchosen-fill, #dedede);
    }

    .stroke {
      fill: var(--cp-unchosen-stroke, #424c59);
    }

    .number {
      color: var(--cp-unchosen-number, #424c59);
    }
  }

  .descriptor-label-cpt {
    color: var(--cp-descriptor-label-font-color, #000000);
    font-size: var(--cp-descriptor-label-font-size, 14px);
    font-style: var(--cp-descriptor-label-font-style, italic);
    font-weight: var(--cp-descriptor-label-font-weight, 700);
    text-transform: var(--cp-descriptor-label-text-transform, none);
  }

  .section-primary-title-cpt {
    border: 0;
    color: var(--cp-section-primary-title-font-color, #b30044);
    font-size: var(--cp-section-primary-title-font-size, 19px);
    font-style: var(--cp-section-primary-title-font-style, normal);
    font-weight: var(--cp-section-primary-title-font-weight, 700);
    text-transform: var(--cp-section-primary-title-text-transform, uppercase);
  }

  .sfx-bullet-cpt {
    color: var(--cp-sfx-bullet-color, #b30044);
  }

  .sfx-label-cpt {
    color: var(--cp-sfx-label-font-color, #2d5931);
    font-size: var(--cp-sfx-label-font-size, 15px);
    font-style: var(--cp-sfx-label-font-style, italic);
    font-weight: var(--cp-sfx-label-font-weight, 700);
    text-transform: var(--cp-sfx-label-text-transform, capitalize);
  }

  .section-secondary-title-cpt {
    border: 0;
    color: var(--cp-section-secondary-title-font-color, #2d5931);
    font-size: var(--cp-section-secondary-title-font-size, 17px);
    font-style: var(--cp-section-secondary-title-font-style, normal);
    font-weight: var(--cp-section-secondary-title-font-weight, 700);
    text-transform: var(--cp-section-secondary-title-text-transform, uppercase);
  }

  .sub-trait-label-cpt {
    color: var(--cp-sub-trait-label-font-color, #2d5931);
    font-size: var(--cp-sub-trait-label-font-size, 14px);
    font-style: var(--cp-sub-trait-label-font-style, normal);
    font-weight: var(--cp-sub-trait-label-font-weight, 700);
    text-transform: var(--cp-sub-trait-label-text-transform, uppercase);
  }

  .tab-cpt {
    background-color: var(--cp-button-secondary-color, #b30044);
    color: var(--cp-button-secondary-font-color, #ffffff);
    line-height: 1;
    margin: 0 toRem(2px) toRem(2px);
    padding: toRem(4px) toRem(8px);
    font-weight: bold;

    &:hover, &:focus {
      text-shadow: none;
      box-shadow: 0 0 5px var(--cp-input-focus-color, #b30044);
    }

    &.active {
      background-color: var(--cp-button-primary-color, #2d5931);
      color: var(--cp-button-primary-font-color, #ffffff);
      text-shadow: none;
    }

    &.tab-rounded-cpt {
      border-radius: toRem(12px) toRem(12px) 0 0;
    }
  }

  .trait-sub-title-cpt {
    color: var(--cp-trait-sub-title-font-color, #b30044);
    font-size: var(--cp-trait-sub-title-font-size, 15px);
    font-style: var(--cp-trait-sub-title-font-style, italic);
    font-weight: var(--cp-trait-sub-title-font-weight, 700);
    text-transform: var(--cp-trait-sub-title-text-transform, none);
  }

  .trait-title-cpt {
    color: var(--cp-trait-title-font-color, #424c59);
    font-size: var(--cp-trait-title-font-size, 16px);
    font-style: var(--cp-trait-title-font-style, normal);
    font-weight: var(--cp-trait-title-font-weight, 700);
    text-transform: var(--cp-trait-title-text-transform, uppercase);
  }

  .input-image-select-cpt {
    border: var(--cp-input-border-width, 2px) var(--cp-input-border-style, solid) var(--cp-input-border-color, #2d5931);
  }

  .input-cpt, color-picker > input[type=text] {
    background-color: var(--cp-input-background-color, #c9e2d1);
    border: 0;
    border-width: var(--cp-input-border-position, 0 0 2px 0);
    border-color: var(--cp-input-border-color, #2d5931);
    border-style: var(--cp-input-border-style, solid);
    color: var(--cp-input-color, #000000);
    font-family: 'Roboto', serif;
    font-size: var(--cp-body-font-size, 15px);
    font-weight: var(--cp-body-font-weight, 400);
    height: auto;
    padding: toRem(3px) toRem(6px);

    &:focus {
      box-shadow: 0 0 5px var(--cp-input-focus-color, #b30044);
    }

    option {
      color: black;
    }
  }

  color-picker > input[type=color] {
    height: 26px;
    flex: 0 0 26px;
  }

  .checkmark-cpt {
    position: absolute;
    top: 0;
    left: 0;
    height: toRem(15px);
    width: toRem(15px);
    background-color: var(--cp-input-checkbox-color, #2d5931);

    &:after {
      content: "";
      position: absolute;
      z-index: 2;
      display: none;
    }
  }

  .checkmark-container {
    display: block;
    position: relative;
    height: toRem(15px);
    width: toRem(15px);
    cursor: pointer;
    font-size: toRem(24px);
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    &:hover .input-checkbox-cpt ~ .checkmark-cpt {
      background-color: var(--cp-input-focus-color, #b30044);
    }

    .input-checkbox-cpt {
      cursor: pointer;
      margin: 0;
      opacity: 0;
      position: absolute;
      height: toRem(15px);
      width: toRem(15px);
      z-index: 3;

      &:checked ~ .checkmark-cpt {
        &:after {
          display: block;
        }
      }
    }

    .checkmark-cpt:after {
      left: toRem(4px);
      top: toRem(1px);
      width: toRem(4px);
      height: toRem(8px);
      border: solid white;
      border-width: 0 toRem(3px) toRem(3px) 0;
      -webkit-transform: rotate(45deg);
      -ms-transform: rotate(45deg);
      transform: rotate(45deg);
    }

    &.checkmark-lg {
      height: toRem(30px);
      width: toRem(30px);

      .checkmark-cpt {
        height: toRem(30px);
        width: toRem(30px);
      }

      .checkmark-cpt:after {
        left: toRem(8px);
        top: toRem(1px);
        width: toRem(8px);
        height: toRem(16px);
        border-width: 0 toRem(6px) toRem(6px) 0;
      }

      .input-checkbox-cpt {
        height: toRem(30px);
        width: toRem(30px);
      }
    }
  }

  .input-label-cpt {
    color: var(--cp-input-label-color, #424C59);
    font-size: var(--cp-input-label-font-size, 14px);
    font-style: var(--cp-input-label-font-style, normal);
    font-weight: var(--cp-input-label-font-weight, 700);
    text-transform: var(--cp-input-label-text-transform, capitalize);
    margin-bottom: toRem(4px);
  }

  .separator-cpt {
    border-bottom: var(--cp-separator-weight, 2px) var(--cp-separator-style, solid) var(--cp-separator-color, #b30044);
    width: 100%;
  }

  .editor {
    height: 100%;
    width: 100%;

    .editor-content {
      border: var(--cp-input-border-width, 2px) var(--cp-input-border-style, solid) var(--cp-input-border-color, #2d5931);
      padding: 2 * $spacing-sm
    }

    .tox-edit-area {
      background-color: #ffffff;
      border: var(--cp-input-border-width, 2px) var(--cp-input-border-style, solid) var(--cp-input-border-color, #2d5931);
    }
  }


  &.window-app .window-header {
    position: relative;
    z-index: 3;
    background-color: rgba(0, 0, 0, 0.7);
  }

  &.dialog .dialog-buttons {
    position: relative;
    z-index: 3;
  }

  .dice-tag {
    border: var(--cp-separator-weight, 2px) var(--cp-separator-style, solid) var(--cp-separator-color, #b30044);
  }
}

.chat-message {
  &.roll-message {
    border: var(--cp-separator-weight, 2px) var(--cp-separator-style, solid) var(--cp-separator-color, #b30044);
    border-radius: 0;
    font-family: 'Roboto', sans-serif;
    font-size: 16px;
    font-weight: var(--cp-body-font-weight, 400);
    padding: 0;
    position: relative;

    .message-header, .message-content {
      color: var(--cp-body-font-color, #000000);
      padding: toRem(8px);
      position: relative;
      z-index: 3;
    }

    .message-header {
      background: transparent;
      border: 0;
      border-color: var(--cp-separator-color, #b30044);
      border-style: var(--cp-separator-style, solid);
      border-width: 0 0 var(--cp-separator-weight, 2px) 0;
      box-sizing: border-box;
      padding: toRem(8px);

      .message-header-background, .message-header-image {
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }

      .message-header-image {
        background-image: var(--cp-section-background-image, none);
        background-position: var(--cp-section-background-position, center);
        background-repeat: var(--cp-section-background-repeat, no-repeat);
        background-size: var(--cp-section-background-size, cover);
        opacity: var(--cp-section-background-image-opacity, 0);
        z-index: 5;
      }

      .message-header-background {
        background-color: var(--cp-section-background-color, #f5f8fa);
        opacity: var(--cp-section-background-color-opacity, 1);
        z-index: 4;
      }

      .message-header-content {
        display: flex;
        justify-items: space-between;
        position: relative;
        z-index: 6;
        height: 100%;
      }
    }
  }

  .message-background {
    background-color: var(--cp-sheet-background-color, #dedede);
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
    z-index: 1;
  }

  .message-image {
    background-image: var(--cp-sheet-background-image, none);
    background-position: var(--cp-sheet-background-position, center);
    background-repeat: var(--cp-sheet-background-repeat, no-repeat);
    background-size: var(--cp-sheet-background-size, cover);
    height: 100%;
    left: 0;
    opacity: var(--cp-sheet-background-image-opacity, 0.5);
    position: absolute;
    top: 0;
    width: 100%;
    z-index: 2;
  }
}